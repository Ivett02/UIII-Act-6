{% extends 'base.html' %}
{% block content %}
<h3 class="text-center text-primary">Productos</h3>
<div class="mb-3 text-end"><a href="{% url 'agregar_producto' %}" class="btn btn-primary">+ Nuevo Producto</a></div>
<table class="table table-striped">
  <thead class="table-primary"><tr><th>#</th><th>Nombre</th><th>Stock</th><th>Precio</th><th>Categor√≠a</th><th>Acciones</th></tr></thead>
  <tbody>
    {% for p in productos %}
    <tr>
      <td>{{ forloop.counter }}</td>
      <td>{{ p.nombre }}</td>
      <td>{{ p.stock }}</td>
      <td>${{ p.precio }}</td>
      <td>{% if p.id_categoria %}{{ p.id_categoria.nombre }}{% else %}-{% endif %}</td>
      <td>
        <a class="btn btn-sm btn-warning" href="{% url 'actualizar_producto' p.id %}">Editar</a>
        <a class="btn btn-sm btn-danger" href="{% url 'borrar_producto' p.id %}">Borrar</a>
      </td>
    </tr>
    {% empty %}
    <tr><td colspan="6" class="text-center">No hay productos.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
